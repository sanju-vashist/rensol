<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Chat with AI</title>
    <style>
        :root {
            --primary-color: #007bff;
            --user-bg: #e6f2ff;
            --ai-bg: #f0f0f0;
            --white: #fff;
        }

        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: var(--white);
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        header {
            padding: 1rem;
            background-color: var(--primary-color);
            color: var(--white);
            text-align: center;
            font-size: 1.2rem;
        }

        #chat-wrapper {
            flex: 1;
            display: flex;
            flex-direction: column;
            max-width: 600px;
            margin: 0 auto;
            width: 100%;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
        }

        #chat-container {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
            background-color: #fafafa;
        }

        .message {
            margin: 0.5rem 0;
            padding: 0.75rem;
            border-radius: 8px;
            max-width: 80%;
            word-wrap: break-word;
        }

        .user-message {
            align-self: flex-end;
            background-color: var(--user-bg);
            text-align: right;
        }

        .ai-message {
            align-self: flex-start;
            background-color: var(--ai-bg);
        }

        #input-container {
            display: flex;
            padding: 0.5rem;
            border-top: 1px solid #ddd;
            background-color: var(--white);
        }

        #user-input {
            flex: 1;
            padding: 0.5rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin-right: 0.5rem;
            font-size: 1rem;
        }

        #input-container button {
            background-color: var(--primary-color);
            color: var(--white);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
        }

        #input-container button:hover {
            background-color: #0056b3;
        }

        @media (max-width: 600px) {
            #chat-wrapper {
                border: none;
                border-radius: 0;
            }
        }
    </style>
</head>

<body>
    <header>Chat with AI</header>

    <div id="chat-wrapper">
        <div id="chat-container"></div>

        <div id="input-container">
            <input type="text" id="user-input" placeholder="Type your message..." />
            <button onclick="sendMessage()">Send</button>
        </div>
    </div>

    <script>
        const API_KEY = 'AIzaSyDQiYbOiipZKKWz5Ar37u55FcjtatEWotA';
        const API_URL = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent';

        this.knowledgeBase =
            "Rensol Technologies is a global IT services company specializing in software development, digital transformation, and enterprise solutions. " +
            "Founded with a focus on delivering innovative and customized technology services, Rensol serves clients across multiple industries including healthcare, finance, education, and retail. " +
            "The company emphasizes agile methodologies, cloud computing, and cutting-edge technologies to drive business growth and operational efficiency." +
            "\n\n" +
            "Core Competencies: " +
            "1. Custom Software Development - Tailored software solutions to meet unique business needs. " +
            "2. Mobile & Web App Development - Cross-platform apps with a focus on performance and user experience. " +
            "3. Cloud Solutions - Migration, deployment, and management on AWS, Azure, and Google Cloud. " +
            "4. Data Analytics & AI - Leveraging data-driven insights and AI models to enhance decision-making. " +
            "5. IT Consulting & Support - End-to-end IT services including system integration and maintenance." +
            "\n\n" +
            "Key Projects: " +
            "1. Healthcare Management System - A comprehensive platform for patient records, appointments, and billing. " +
            "2. E-commerce Platform - Scalable online store with integrated payment gateways and inventory management. " +
            "3. Learning Management System - An interactive platform for educational content and assessments. " +
            "4. Financial Analytics Tool - Real-time dashboards for financial performance tracking and forecasting." +
            "\n\n" +
            "Achievements: " +
            "Rensol Technologies has been recognized for excellence in client satisfaction, timely delivery, and innovative solutions. " +
            "The company continuously invests in R&D to stay ahead in technology trends and maintain competitive advantage." +
            "\n\n" +
            "Projects: " +
            "1. Saanjavni: A comprehensive medical information app with biometric registration, family medical history, emergency access, and monetization features. Created using Flutter and Firebase. " +
            "2. Lafda: An anonymous chatting app that allows users to interact in group chats and share thoughts freely. " +
            "2. Dowry Calculator: A fun app that calculates a hypothetical dowry amount based on user qualifications. " +
            "4. The Normal app: A simple app that steals your data and sends it to server without even knowing and its aim is to educate how easy is to steal your data and how chiness app may do it.created using react native and supbase " +
            "\n\n" +
            "Work Culture & Vision: " +
            "Rensol is committed to fostering a collaborative work culture, empowering teams, and driving digital innovation worldwide. " +
            "They focus on continuous learning, employee growth, and building sustainable technology ecosystems for clients globally.";

        async function sendMessage() {
            const userInput = document.getElementById('user-input');
            const chatContainer = document.getElementById('chat-container');

            const userMessage = userInput.value.trim();
            if (!userMessage) return;

            // Display user message
            const userMsgEl = document.createElement('div');
            userMsgEl.className = 'message user-message';
            userMsgEl.textContent = userMessage;
            chatContainer.appendChild(userMsgEl);

            userInput.value = '';

            const prompt = `
You are an AI assistant with access to the following knowledge base:
"""
${knowledgeBase}
"""

Please answer the user's question **based only on the information in the knowledge base replay in a proper format and to any word of appritation like hello and hi reply with anthusisem**.
If the answer is not in the knowledge base, respond with "I am not able to understand or unable to help you with this please ask anything else."

User's question: ${userMessage}
`;

            try {
                const response = await fetch(`${API_URL}?key=${API_KEY}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: prompt }] }]
                    })
                });

                if (!response.ok) throw new Error('API request failed');

                const data = await response.json();
                const aiResponse = data.candidates[0].content.parts[0].text;

                // Display AI response
                const aiMsgEl = document.createElement('div');
                aiMsgEl.className = 'message ai-message';
                aiMsgEl.textContent = aiResponse;
                chatContainer.appendChild(aiMsgEl);
            } catch (error) {
                console.error('Error:', error);
                const aiMsgEl = document.createElement('div');
                aiMsgEl.className = 'message ai-message';
                aiMsgEl.textContent = 'Error: Failed to get a response from AI';
                chatContainer.appendChild(aiMsgEl);
            }

            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        document.getElementById('user-input').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') sendMessage();
        });
    </script>
</body>

</html>